@model A3Group.Models.A3Group_Prices
@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_LayoutMaster.cshtml";
}

<div class="page-inner">
    <div class="page-title">
        <h3 class="breadcrumb-header">Quản lý Bảng giá</h3>
    </div>
    <div id="main-wrapper">
        <div class="row">
            <div class="panel panel-white">
                <div class="panel-heading clearfix">
                    <h3>Chỉnh sửa Bảng giá</h3>
                    <hr />
                </div>
                <div class="panel-body">
                    <form class="form-horizontal" action="/pricemaster/edit" method="post">
                        <div class="form-group">
                            <label class="panel-title">Tiêu đề (VUI LÒNG NHẬP DƯỚI 25 KÍ TỰ)</label>
                            <input type="text" class="form-control" name="maintitle" id="maintitle" value="@Model.MainTitle" maxlength="25">
                        </div>
                        <div class="form-group">
                            <label class="panel-title">Mô tả (VUI LÒNG NHẬP DƯỚI 500 KÍ TỰ)</label>
                            <textarea maxlength="500" rows="20" cols="50" style="height: 200px" type="text" name="maindes" id="maindes" class="form-control" placeholder="">@Model.MainDescription</textarea>
                        </div>

                        <hr />

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="panel-title">Tiêu đề (VUI LÒNG NHẬP DƯỚI 25 KÍ TỰ)</label>
                                    <input maxlength="25" type="text" class="form-control" name="title1" id="title1" value="@Model.SubTitle1">
                                </div>

                                <div class="form-group">
                                    <label class="panel-title">Giá</label>
                                    <input type="text" class="form-control" name="price1" id="price1" value="@Model.Prices1">
                                </div>
                                <div class="form-group">
                                    <label class="panel-title">Mô tả (VUI LÒNG NHẬP DƯỚI 500 KÍ TỰ)</label>
                                    <textarea maxlength="500" rows="20" cols="50" style="height: 200px" type="text" name="des1" id="des1" class="form-control" placeholder="">@Model.Description1</textarea>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="panel-title">Tiêu đề (VUI LÒNG NHẬP DƯỚI 25 KÍ TỰ)</label>
                                    <input maxlength="25" type="text" class="form-control" name="title2" id="title2" value="@Model.SubTitle2">
                                </div>
                                <div class="form-group">
                                    <label class="panel-title">Giá</label>
                                    <input type="text" class="form-control" name="price2" id="price2" value="@Model.Prices2">
                                </div>
                                <div class="form-group">
                                    <label class="panel-title">Mô tả (VUI LÒNG NHẬP DƯỚI 500 KÍ TỰ)</label>
                                    <textarea maxlength="500" rows="20" cols="50" style="height: 200px" type="text" name="des2" id="des2" class="form-control" placeholder="">@Model.Description2</textarea>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="panel-title">Tiêu đề nhỏ 3 (VUI LÒNG NHẬP DƯỚI 25 KÍ TỰ)</label>
                                    <input maxlength="25" type="text" class="form-control" name="title3" id="title3" value="@Model.SubTitle3">
                                </div>
                                <div class="form-group">
                                    <label class="panel-title">Giá</label>
                                    <input type="text" class="form-control" name="price3" id="price3" value="@Model.Prices3">
                                </div>
                                <div class="form-group">
                                    <label class="panel-title">Mô tả nhỏ 3 (VUI LÒNG NHẬP DƯỚI 500 KÍ TỰ)</label>
                                    <textarea maxlength="500" rows="20" cols="50" style="height: 200px" type="text" name="des3" id="des3" class="form-control" placeholder="">@Model.Description3</textarea>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-info btn-adon m-b-xxs" onclick="javascript:return ShowMessage();">LƯU</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Content/Webmaster/assets/js/ckeditor/ckeditor.js"></script>
<script src="~/Content/Webmaster/assets/js/ckeditor/samples/js/sample.js"></script>
<script>
    CKEDITOR.replace('des1');
    CKEDITOR.replace('des2');
    CKEDITOR.replace('des3');
</script>
<script>
    function ShowMessage() {
        var result = confirm("Bạn có muốn lưu thông tin?");
        if (result) {
            return true;
        } else {
            return false;
        }
    }

    $(document).ready(function () {

        $('.panel-body form').on('submit', function (event) {
            event.preventDefault();
            //Get data
            const maintitle = ($('#maintitle').val());
            const maindes = ($('#maindes').val());
            const title1 = ($('#title1').val());
            const price1 = ($('#price1').val());
            var des1 = document.getElementsByName("des1")[0].value;
            const title2 = ($('#title2').val());
            const price2 = ($('#price2').val());
            var des2 = document.getElementsByName("des2")[0].value;
            const title3 = ($('#title3').val());
            const price3 = ($('#price3').val());
            var des2 = document.getElementsByName("des3")[0].value;
            //Json
            const data = {
                MainTitle: maintitle,
                MainDescription: maindes,
                SubTitle1: title1,
                Prices1: price1,
                Description1: des1,
                SubTitle2: title2,
                Prices2: price2,
                Description2: des2,
                SubTitle3: title3,
                Prices3: price3,
                Description3: des3,
            };
            if (maintitle != '' && maindes != '' && title1 != '' && des1 != '' && title2 != '' && des2 != '' && title3 != '' && des3 != '' && price1 != '' && price2 != '' && price3 != '') {
                $.ajax({
                    async: true,
                    data: JSON.stringify(data),
                    type: 'POST',
                    url: '/PriceMaster/edit',
                    dataType: "json",
                    contentType: "application/json",
                    cache: false,
                    error: function (data) {
                        alert(data.Message);
                    },
                    success: function (data) {
                        alert(data.Message);
                        window.location.href = "/PriceMaster/edit"
                    }
                });
            }

        });

    });
</script>
